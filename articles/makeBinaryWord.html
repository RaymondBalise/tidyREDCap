<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Make Binary Word • tidyREDCap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Make Binary Word">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidyREDCap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/dropLabels.html">Drop Labels from a Table</a></li>
    <li><a class="dropdown-item" href="../articles/import_instruments.html">Import All Instruments from a REDCap Project</a></li>
    <li><a class="dropdown-item" href="../articles/makeBinaryWord.html">Make Binary Word</a></li>
    <li><a class="dropdown-item" href="../articles/makeChooseAllTable.html">Make a 'Choose All' Table</a></li>
    <li><a class="dropdown-item" href="../articles/makeChooseOneTable.html">Make a 'Choose One' Table</a></li>
    <li><a class="dropdown-item" href="../articles/makeInstrument.html">Make an Instrument</a></li>
    <li><a class="dropdown-item" href="../articles/useAPI.html">Importing from REDCap</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/RaymondBalise/tidyREDCap/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Make Binary Word</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RaymondBalise/tidyREDCap/blob/master/vignettes/makeBinaryWord.Rmd" class="external-link"><code>vignettes/makeBinaryWord.Rmd</code></a></small>
      <div class="d-none name"><code>makeBinaryWord.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://raymondbalise.github.io/tidyREDCap/">tidyREDCap</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p></p>
<div class="section level2">
<h2 id="the-problem">The Problem<a class="anchor" aria-label="anchor" href="#the-problem"></a>
</h2>
<p>REDCap exports a “choose all that apply” question into a series of
similarly-named, binary indicator variables (i.e., the variables are
equal to either “checked” or “unchecked”). Using these variables
individually, there is no obvious way to detect common patterns people
pick together.</p>
<blockquote>
<p><strong>Example:</strong> In the Nacho Craving Index (NCI),
respondents can indicate which of eight ingredients they are currently
craving (i.e., Chips, Yellow cheese, Orange cheese, White cheese, Meat,
Beans, Tomatoes, Peppers). These are exported into variables with names
like <code>ingredients___1</code>, <code>ingredients___2</code>,
etc.</p>
</blockquote>
<p>In REDCap, it is simple to get a summary of those individual
variables by using the “Data Exports, Reports, and Stats” application
within the REDCap interface and selecting “Stats &amp; Charts”. Once the
data is in R, simple tables can be produced with the
<code><a href="https://rdrr.io/r/base/table.html" class="external-link">table()</a></code> function, or beautiful tables can be created with
the <code>tabyl()</code> and <code>adorn_pct_formatting()</code>
functions from the <a href="https://sfirke.github.io/janitor/index.html" class="external-link"><code>janitor</code></a>
package. However, from these univariate tables, it is impossible to
judge which patterns of answers are marked together. In the above
example, using the univariate tables, it is difficult to tell what
percentage of people are craving both chips and yellow cheese.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">redcap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"./redcap.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Chips</span></span>
<span><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">redcap</span><span class="op">$</span><span class="va">ingredients___1</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/adorn_pct_formatting.html" class="external-link">adorn_pct_formatting</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">redcap$ingredients___1</th>
<th align="right">n</th>
<th align="left">percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Unchecked</td>
<td align="right">21</td>
<td align="left">70.0%</td>
</tr>
<tr class="even">
<td align="left">Checked</td>
<td align="right">9</td>
<td align="left">30.0%</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Yellow cheese</span></span>
<span><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">redcap</span><span class="op">$</span><span class="va">ingredients___2</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/adorn_pct_formatting.html" class="external-link">adorn_pct_formatting</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">redcap$ingredients___2</th>
<th align="right">n</th>
<th align="left">percent</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Unchecked</td>
<td align="right">23</td>
<td align="left">76.7%</td>
</tr>
<tr class="even">
<td align="left">Checked</td>
<td align="right">7</td>
<td align="left">23.3%</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="aside-loading-redcap-data-into-r">Aside: Loading REDCap Data into R<a class="anchor" aria-label="anchor" href="#aside-loading-redcap-data-into-r"></a>
</h3>
<p>See the <a href="./import_instruments.html">Import All Instruments
from a REDCap Project</a> and <a href="./useAPI.html">Importing from
REDCap</a> vignettes for details/information.</p>
</div>
</div>
<div class="section level2">
<h2 id="make-analysis-data">Make Analysis Data<a class="anchor" aria-label="anchor" href="#make-analysis-data"></a>
</h2>
<p>Even after subsetting the REDCap data to only include the ingredients
variables, it is still difficult to detect common patterns in the eight
ingredients.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">redcap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"./redcap.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">analysis</span> <span class="op">&lt;-</span> <span class="va">redcap</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"ingredients___"</span><span class="op">)</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">analysis</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="2%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="left">ingredients___1</th>
<th align="left">ingredients___2</th>
<th align="left">ingredients___3</th>
<th align="left">ingredients___4</th>
<th align="left">ingredients___5</th>
<th align="left">ingredients___6</th>
<th align="left">ingredients___7</th>
<th align="left">ingredients___8</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">25</td>
<td align="left">Checked</td>
<td align="left">Checked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Checked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
</tr>
<tr class="even">
<td align="left">26</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
</tr>
<tr class="odd">
<td align="left">27</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
</tr>
<tr class="even">
<td align="left">28</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
</tr>
<tr class="odd">
<td align="left">29</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
</tr>
<tr class="even">
<td align="left">30</td>
<td align="left">Checked</td>
<td align="left">Checked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Unchecked</td>
<td align="left">Checked</td>
<td align="left">Unchecked</td>
</tr>
</tbody>
</table>
<p> </p>
</div>
<div class="section level2">
<h2 id="the-solution">The Solution<a class="anchor" aria-label="anchor" href="#the-solution"></a>
</h2>
<div class="section level3">
<h3 id="default-lettering">Default Lettering<a class="anchor" aria-label="anchor" href="#default-lettering"></a>
</h3>
<p>The <code><a href="../reference/make_binary_word.html">make_binary_word()</a></code> function combines responses from
the individual variables into a single “word” that indicates which
choices were selected. For example, if the first option from the NCI
ingredient question, <em>chips</em> (i.e.,
<code>ingredients___1</code>), was checked, the word created by
<code><a href="../reference/make_binary_word.html">make_binary_word()</a></code> will begin with <em>a</em>; or if it was
not checked, the word would start with <em>_</em>. If the second option,
<em>Yellow cheese</em> (i.e., <code>ingredients___2</code>), was
checked, the next letter will be a <em>b</em>; otherwise, a <em>_</em>
will be used as a placeholder. Following this pattern, if somebody is
not craving any of the eight nacho ingredients, the “word” will be eight
underscores, one for each ingredient (i.e., ________). Conversely, if
they are craving every ingredient, the “word” will be
<em>abcdefgh</em>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">patterns</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_binary_word.html">make_binary_word</a></span><span class="op">(</span><span class="va">analysis</span><span class="op">)</span> </span>
<span><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">patterns</span><span class="op">)</span></span>
<span><span class="co">#&gt;  patterns  n    percent</span></span>
<span><span class="co">#&gt;  ________ 20 0.66666667</span></span>
<span><span class="co">#&gt;  ______gh  1 0.03333333</span></span>
<span><span class="co">#&gt;  a_c__f_h  1 0.03333333</span></span>
<span><span class="co">#&gt;  a_cdefgh  1 0.03333333</span></span>
<span><span class="co">#&gt;  ab____g_  1 0.03333333</span></span>
<span><span class="co">#&gt;  ab___f__  1 0.03333333</span></span>
<span><span class="co">#&gt;  ab___f_h  1 0.03333333</span></span>
<span><span class="co">#&gt;  ab__efgh  1 0.03333333</span></span>
<span><span class="co">#&gt;  ab_de_gh  1 0.03333333</span></span>
<span><span class="co">#&gt;  ab_defgh  1 0.03333333</span></span>
<span><span class="co">#&gt;  abcdef_h  1 0.03333333</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-lettering">Custom Lettering<a class="anchor" aria-label="anchor" href="#custom-lettering"></a>
</h3>
<p>While the default lettering is somewhat helpful, using meaningful
(mnemonic) letters makes the binary words easier to understand. In this
case, the first letter for each choice can be used as a helpful
mnemonic.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Abbreviation</th>
<th align="left">Ingredient</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">C</td>
<td align="left">Chips</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left">Yellow cheese</td>
</tr>
<tr class="odd">
<td align="left">O</td>
<td align="left">Orange cheese</td>
</tr>
<tr class="even">
<td align="left">W</td>
<td align="left">White cheese</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="left">Meat</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="left">Beans</td>
</tr>
<tr class="odd">
<td align="left">T</td>
<td align="left">Tomatoes</td>
</tr>
<tr class="even">
<td align="left">P</td>
<td align="left">Peppers</td>
</tr>
</tbody>
</table>
<p>To use custom lettering, specify a vector of single-letter
abbreviations and pass it to the <code>the_labels</code> argument. Be
sure to include one unique abbreviation for each data frame column. For
example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"Y"</span>, <span class="st">"O"</span>, <span class="st">"W"</span>, <span class="st">"M"</span>, <span class="st">"B"</span>, <span class="st">"T"</span>, <span class="st">"P"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">patterns</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_binary_word.html">make_binary_word</a></span><span class="op">(</span><span class="va">analysis</span>, the_labels <span class="op">=</span> <span class="va">labels</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">patterns</span><span class="op">)</span></span>
<span><span class="co">#&gt;  patterns  n    percent</span></span>
<span><span class="co">#&gt;  CYOWMB_P  1 0.03333333</span></span>
<span><span class="co">#&gt;  CY_WMBTP  1 0.03333333</span></span>
<span><span class="co">#&gt;  CY_WM_TP  1 0.03333333</span></span>
<span><span class="co">#&gt;  CY__MBTP  1 0.03333333</span></span>
<span><span class="co">#&gt;  CY___B_P  1 0.03333333</span></span>
<span><span class="co">#&gt;  CY___B__  1 0.03333333</span></span>
<span><span class="co">#&gt;  CY____T_  1 0.03333333</span></span>
<span><span class="co">#&gt;  C_OWMBTP  1 0.03333333</span></span>
<span><span class="co">#&gt;  C_O__B_P  1 0.03333333</span></span>
<span><span class="co">#&gt;  ______TP  1 0.03333333</span></span>
<span><span class="co">#&gt;  ________ 20 0.66666667</span></span></code></pre></div>
<p>The summary table shows that 20 people did not provide information
about what ingredients they craved. The remaining people do not display
any recurring patterns, but many people craved chips and yellow cheese
together.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Raymond Balise, Gabriel Odom, Kyle Grealis, Anna Calderon, Layla Bouzoubaa, Wayne DeFreitas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
