<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Make Binary Word • tidyREDCap</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Make Binary Word">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyREDCap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/makeBinaryWord.html">Make Binary Word</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Make Binary Word</h1>
            
      
      
      <div class="hidden name"><code>makeBinaryWord.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidyREDCap)</span></code></pre></div>
<div id="the-issue" class="section level1">
<h1 class="hasAnchor">
<a href="#the-issue" class="anchor"></a>The issue</h1>
<p>REDCap exports choose-all-that-apply questions into a series of similarly-named binary indicator variables. Using these variables there is no obvious way to detect common patterns that people pick together. For example, in the Nacho Training Index (NCI) respondents can indicate which of eight ingredients they are currently craving (i.e., Chips, Yellow cheese, Orange cheese, White cheese, Meat, Beans, Tomatoes, Peppers) and those export into variables with names like <code>ingredients___1</code>, <code>ingredients___2</code>, etc. In REDCap, it is simple to get a summary of those individual variables using the “Data Exports, Reports, and Stats” application built into the left side of the REDCap interface and selecting “Stats &amp; Charts”. Once data is in R, simple tables can be produced with the <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> function or beautiful tables can be created with the <code>tabyl()</code> and <code>adorn_pct_formatting()</code> functions from the <code>janitor</code> package. From these univariate tables it is impossible to judge which patterns of ingredients are craved together.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co"># rcon &lt;- redcapAPI::redcapConnection(url='https://redcap.miami.edu/api/', </span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#                          token=Sys.getenv("NCI_API_Key"))</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co"># redcap &lt;- redcapAPI::exportRecords(rcon)</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co"># </span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co"># saveRDS(redcap, file = "redcap.rds")</span></span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a>redcap &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="dt">file =</span> <span class="st">"./redcap.rds"</span>)</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">#&gt; </span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">#&gt; </span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="co">#&gt;     filter, lag</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co">#&gt; </span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span id="cb2-19"><a href="#cb2-19"></a>analysis &lt;-<span class="st"> </span>redcap <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">starts_with</a></span>(<span class="st">"ingredients___"</span>))</span></code></pre></div>
</div>
<div id="the-solution" class="section level1">
<h1 class="hasAnchor">
<a href="#the-solution" class="anchor"></a>The solution</h1>
<div id="default-lettering" class="section level2">
<h2 class="hasAnchor">
<a href="#default-lettering" class="anchor"></a>Default lettering</h2>
<p>The <code>make_ binary_word()</code> function combines responses from the individual variables into a single “word” that indicates which choices were selected. If the first option from the NCI ingredient question, <em>chips</em> (i.e., ingredients___1), was checked, the word created by <code>make_ binary_word()</code> will begin with <em>a</em> or if it was not checked the word will begin with <em>_</em>. If the second option, <em>Yellow cheese</em> (i.e., ingredients___2), was checked the next letter will be a <em>b</em> and if it was not checked, a <em>_</em> used as a placeholder. So, if somebody is not craving any ingredients the word will be eight underscores (i.e., ________) and if they are craving every ingredient the word will be abcdefgh.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>patterns &lt;-<span class="st"> </span><span class="kw"><a href="../reference/make_binary_word.html">make_binary_word</a></span>(analysis) </span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>janitor<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html">tabyl</a></span>(patterns)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt;  patterns  n    percent</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt;  ________ 20 0.66666667</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt;  ______gh  1 0.03333333</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt;  a_c__f_h  1 0.03333333</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt;  a_cdefgh  1 0.03333333</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt;  ab____g_  1 0.03333333</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt;  ab___f__  1 0.03333333</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt;  ab___f_h  1 0.03333333</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt;  ab__efgh  1 0.03333333</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt;  ab_de_gh  1 0.03333333</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt;  ab_defgh  1 0.03333333</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt;  abcdef_h  1 0.03333333</span></span></code></pre></div>
</div>
<div id="custom-lettering" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-lettering" class="anchor"></a>Custom lettering</h2>
<p>While the default lettering is somewhat useful, using meaningful (mnemonic) letters makes the binary word easier to understand. In this case, the first letter for each choice can be used as a useful mnemonic.</p>
<table class="table">
<thead><tr class="header">
<th align="left">Abbreviation</th>
<th align="left">Ingredient</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">C</td>
<td align="left">Chips</td>
</tr>
<tr class="even">
<td align="left">Y</td>
<td align="left">Yellow cheese</td>
</tr>
<tr class="odd">
<td align="left">O</td>
<td align="left">Orange cheese</td>
</tr>
<tr class="even">
<td align="left">W</td>
<td align="left">White cheese</td>
</tr>
<tr class="odd">
<td align="left">M</td>
<td align="left">Meat</td>
</tr>
<tr class="even">
<td align="left">B</td>
<td align="left">Beans</td>
</tr>
<tr class="odd">
<td align="left">T</td>
<td align="left">Tomatoes</td>
</tr>
<tr class="even">
<td align="left">P</td>
<td align="left">Peppers</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>labels &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"Y"</span>, <span class="st">"O"</span>, <span class="st">"W"</span>, <span class="st">"M"</span>, <span class="st">"B"</span>, <span class="st">"T"</span>, <span class="st">"P"</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a>patterns &lt;-<span class="st"> </span><span class="kw"><a href="../reference/make_binary_word.html">make_binary_word</a></span>(analysis, <span class="dt">the_labels =</span> labels)</span>
<span id="cb4-3"><a href="#cb4-3"></a>janitor<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/janitor/man/tabyl.html">tabyl</a></span>(patterns)</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;  patterns  n    percent</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt;  ________ 20 0.66666667</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt;  ______TP  1 0.03333333</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt;  C_O__B_P  1 0.03333333</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt;  C_OWMBTP  1 0.03333333</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt;  CY____T_  1 0.03333333</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt;  CY___B__  1 0.03333333</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt;  CY___B_P  1 0.03333333</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt;  CY__MBTP  1 0.03333333</span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">#&gt;  CY_WM_TP  1 0.03333333</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">#&gt;  CY_WMBTP  1 0.03333333</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt;  CYOWMB_P  1 0.03333333</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#the-issue">The issue</a></li>
      <li>
<a href="#the-solution">The solution</a><ul class="nav nav-pills nav-stacked">
<li><a href="#default-lettering">Default lettering</a></li>
      <li><a href="#custom-lettering">Custom lettering</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Raymond Balise, Gabriel Odom.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
